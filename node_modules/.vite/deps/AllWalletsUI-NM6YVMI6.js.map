{
  "version": 3,
  "sources": ["../../thirdweb/src/react/web/ui/ConnectWallet/Modal/AllWalletsUI.tsx"],
  "sourcesContent": ["\"use client\";\nimport styled from \"@emotion/styled\";\nimport { MagnifyingGlassIcon } from \"@radix-ui/react-icons\";\nimport { CrossCircledIcon } from \"@radix-ui/react-icons\";\nimport Fuse from \"fuse.js\";\nimport { useMemo, useRef, useState } from \"react\";\nimport type { ThirdwebClient } from \"../../../../../client/client.js\";\nimport walletInfos from \"../../../../../wallets/__generated__/wallet-infos.js\";\nimport { createWallet } from \"../../../../../wallets/create-wallet.js\";\nimport type { Wallet } from \"../../../../../wallets/interfaces/wallet.js\";\nimport { useCustomTheme } from \"../../../../core/design-system/CustomThemeProvider.js\";\nimport { iconSize, spacing } from \"../../../../core/design-system/index.js\";\nimport { sortWallets } from \"../../../utils/sortWallets.js\";\nimport { Spacer } from \"../../components/Spacer.js\";\nimport { Spinner } from \"../../components/Spinner.js\";\nimport { Container, ModalHeader } from \"../../components/basic.js\";\nimport { Input } from \"../../components/formElements.js\";\nimport { Text } from \"../../components/text.js\";\nimport { useDebouncedValue } from \"../../hooks/useDebouncedValue.js\";\nimport { useShowMore } from \"../../hooks/useShowMore.js\";\nimport { WalletEntryButton } from \"../WalletEntryButton.js\";\nimport type { ConnectLocale } from \"../locale/types.js\";\n\n/**\n *\n * @internal\n */\nfunction AllWalletsUI(props: {\n  onBack: () => void;\n  onSelect: (wallet: Wallet) => void;\n  specifiedWallets: Wallet[];\n  size: \"compact\" | \"wide\";\n  client: ThirdwebClient;\n  recommendedWallets: Wallet[] | undefined;\n  connectLocale: ConnectLocale;\n}) {\n  const { itemsToShow, lastItemRef } = useShowMore<HTMLLIElement>(10, 10);\n\n  const walletList = useMemo(() => {\n    return walletInfos.filter((wallet) => {\n      return props.specifiedWallets.findIndex((x) => x.id === wallet.id) === -1;\n    });\n  }, [props.specifiedWallets]);\n\n  const fuseInstance = useMemo(() => {\n    return new Fuse(walletList, {\n      threshold: 0.4,\n      keys: [\n        {\n          name: \"name\",\n          weight: 1,\n        },\n      ],\n    });\n  }, [walletList]);\n\n  const listContainer = useRef<HTMLDivElement | null>(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const deferredSearchTerm = useDebouncedValue(searchTerm, 300);\n\n  const searchResults = deferredSearchTerm\n    ? fuseInstance.search(deferredSearchTerm).map((result) => result.item)\n    : walletList;\n\n  const walletInfosToShow = useMemo(() => {\n    return sortWallets(searchResults.slice(0, itemsToShow));\n  }, [searchResults, itemsToShow]);\n\n  return (\n    <Container fullHeight flex=\"column\" animate=\"fadein\">\n      <Container p=\"lg\">\n        <ModalHeader title=\"Select Wallet\" onBack={props.onBack} />\n      </Container>\n\n      <Spacer y=\"xs\" />\n\n      <Container px=\"lg\">\n        {/* Search */}\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            position: \"relative\",\n          }}\n        >\n          <StyledMagnifyingGlassIcon width={iconSize.md} height={iconSize.md} />\n\n          <Input\n            style={{\n              padding: `${spacing.sm} ${spacing.md} ${spacing.sm} ${spacing.xxl}`,\n            }}\n            tabIndex={-1}\n            variant=\"outline\"\n            placeholder={\"Search Wallet\"}\n            value={searchTerm}\n            onChange={(e) => {\n              listContainer.current?.parentElement?.scroll({\n                top: 0,\n              });\n              setSearchTerm(e.target.value);\n            }}\n          />\n          {/* Searching Spinner */}\n          {deferredSearchTerm !== searchTerm && (\n            <div\n              style={{\n                position: \"absolute\",\n                right: spacing.md,\n              }}\n            >\n              <Spinner size=\"md\" color=\"accentText\" />\n            </div>\n          )}\n        </div>\n      </Container>\n\n      {walletInfosToShow.length > 0 && (\n        <>\n          <Spacer y=\"md\" />\n          <Container animate=\"fadein\" expand scrollY>\n            <div\n              ref={listContainer}\n              style={{\n                maxHeight: props.size === \"compact\" ? \"400px\" : undefined,\n                paddingInline: spacing.md,\n              }}\n            >\n              {walletInfosToShow.map((walletInfo, i) => {\n                const isLast = i === walletInfosToShow.length - 1;\n\n                return (\n                  <li\n                    ref={isLast ? lastItemRef : undefined}\n                    key={walletInfo.id}\n                    style={{\n                      listStyle: \"none\",\n                    }}\n                  >\n                    <WalletEntryButton\n                      walletId={walletInfo.id}\n                      selectWallet={() => {\n                        const wallet = createWallet(walletInfo.id);\n                        props.onSelect(wallet);\n                      }}\n                      client={props.client}\n                      recommendedWallets={props.recommendedWallets}\n                      connectLocale={props.connectLocale}\n                    />\n                  </li>\n                );\n              })}\n            </div>\n\n            <Spacer y=\"xl\" />\n          </Container>\n        </>\n      )}\n\n      {walletInfosToShow.length === 0 && (\n        <Container\n          flex=\"column\"\n          gap=\"md\"\n          center=\"both\"\n          color=\"secondaryText\"\n          animate=\"fadein\"\n          expand\n          style={{\n            minHeight: \"250px\",\n          }}\n        >\n          <CrossCircledIcon width={iconSize.xl} height={iconSize.xl} />\n          <Text> No Results </Text>\n        </Container>\n      )}\n    </Container>\n  );\n}\n\nconst StyledMagnifyingGlassIcon = /* @__PURE__ */ styled(MagnifyingGlassIcon)(\n  (_) => {\n    const theme = useCustomTheme();\n    return {\n      color: theme.colors.secondaryText,\n      position: \"absolute\",\n      left: spacing.sm,\n    };\n  },\n);\n\nexport default AllWalletsUI;\n"],
  "mappings": "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",
  "names": ["_jsxs", "_jsx", "_Fragment"]
}
